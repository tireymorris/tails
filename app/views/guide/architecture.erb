<section id="architecture" data-tab-content="architecture" class="mb-16 hidden">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
    
    <div class="card">
      <div class="card-padding">
        <h3 class="heading-md mb-4">Routing</h3>
        <p class="text-muted mb-4">Routes are organized using Roda's multi_route plugin. Each route file in <code class="text-xs bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded">app/routes/</code> defines a route namespace:</p>
        <pre class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg overflow-x-auto text-sm"><code>class App < Roda
  route 'auth' do |r|
    r.get 'login' do
      view('auth/login')
    end
  end
end</code></pre>
      </div>
    </div>

    <div class="card">
      <div class="card-padding">
        <h3 class="heading-md mb-4">Authentication</h3>
        <p class="text-muted mb-4">Session-based auth using cookies with BCrypt password hashing:</p>
        <ul class="space-y-2 text-sm">
          <li class="text-secondary">• <strong>CurrentUser</strong> module provides <code class="text-xs bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded">current_user</code></li>
          <li class="text-secondary">• <strong>AuthService</strong> handles registration and login</li>
          <li class="text-secondary">• Sessions expire after 14 days</li>
          <li class="text-secondary">• CSRF protection on all state-changing requests</li>
        </ul>
      </div>
    </div>

    <div class="card">
      <div class="card-padding">
        <h3 class="heading-md mb-4">Database</h3>
        <p class="text-muted mb-4">ActiveRecord with SQLite in development:</p>
        <pre class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg overflow-x-auto text-sm"><code># Create migration
rails generate migration CreateThings

# Run migrations
rake db:migrate

# Seed data
rake db:seed</code></pre>
      </div>
    </div>

    <div class="card">
      <div class="card-padding">
        <h3 class="heading-md mb-4">Views & Components</h3>
        <p class="text-muted mb-4">ERB templates with reusable components:</p>
        <pre class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg overflow-x-auto text-sm"><code>&lt;%= render('components/stat_card',
  locals: {
    icon: 'user',
    color: 'indigo',
    label: 'Users',
    value: '100'
  }
) %&gt;</code></pre>
      </div>
    </div>

    <div class="card lg:col-span-2">
      <div class="card-padding">
        <h3 class="heading-md mb-4">Styling with Tailwind</h3>
        <p class="text-muted mb-4">Custom utility classes defined in <code class="text-xs bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded">app/views/layouts/styles.erb</code>:</p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
          <div>
            <p class="font-medium text-primary mb-1">Buttons</p>
            <p class="text-muted text-xs">.btn-primary<br>.btn-primary-lg<br>.btn-primary-full</p>
          </div>
          <div>
            <p class="font-medium text-primary mb-1">Typography</p>
            <p class="text-muted text-xs">.heading-xl/lg/md/sm<br>.subtitle<br>.text-*</p>
          </div>
          <div>
            <p class="font-medium text-primary mb-1">Forms</p>
            <p class="text-muted text-xs">.input-base<br>.input-top/middle/bottom</p>
          </div>
          <div>
            <p class="font-medium text-primary mb-1">Cards</p>
            <p class="text-muted text-xs">.card<br>.card-sm<br>.card-padding</p>
          </div>
        </div>
        <p class="text-muted text-sm mt-4">
          <a href="#styles" class="link-primary">View complete style system →</a>
        </p>
      </div>
    </div>

  </div>
</section>

